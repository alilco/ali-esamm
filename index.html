<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>تطبيق الدردشة</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    .chat-message {
      max-width: 70%;
      word-wrap: break-word;
    }
  </style>
</head>
<body class="bg-gray-100">
  <div class="container mx-auto p-4">
    <!-- شاشة تسجيل الدخول -->
    <div id="auth-section" class="bg-white p-6 rounded-lg shadow-md">
      <h1 class="text-2xl font-bold text-center mb-4">تسجيل الدخول</h1>
      <input type="email" id="email" placeholder="البريد الإلكتروني" class="w-full p-2 mb-4 border rounded">
      <input type="password" id="password" placeholder="كلمة السر" class="w-full p-2 mb-4 border rounded">
      <button onclick="signIn()" class="w-full bg-blue-500 text-white p-2 rounded">تسجيل الدخول</button>
      <button onclick="showSignUp()" class="w-full bg-gray-500 text-white p-2 rounded mt-2">إنشاء حساب</button>
    </div>

    <!-- شاشة إنشاء حساب -->
    <div id="signup-section" class="bg-white p-6 rounded-lg shadow-md hidden">
      <h1 class="text-2xl font-bold text-center mb-4">إنشاء حساب</h1>
      <input type="text" id="username" placeholder="اسم المستخدم" class="w-full p-2 mb-4 border rounded">
      <input type="email" id="signup-email" placeholder="البريد الإلكتروني" class="w-full p-2 mb-4 border rounded">
      <input type="password" id="signup-password" placeholder="كلمة السر" class="w-full p-2 mb-4 border rounded">
      <button onclick="signUp()" class="w-full bg-green-500 text-white p-2 rounded">إنشاء حساب</button>
      <button onclick="showLogin()" class="w-full bg-gray-500 text-white p-2 rounded mt-2">العودة لتسجيل الدخول</button>
    </div>

    <!-- شاشة الرئيسية -->
    <div id="home-section" class="hidden">
      <h1 class="text-2xl font-bold text-center mb-4">مرحبًا، <span id="current-user"></span></h1>
      <div class="flex justify-between mb-4">
        <button onclick="showAddUser()" class="bg-blue-500 text-white p-2 rounded">إضافة مستخدم</button>
        <button onclick="showProfile()" class="bg-gray-500 text-white p-2 rounded">معلومات شخصية</button>
        <button onclick="signOut()" class="bg-red-500 text-white p-2 rounded">تسجيل الخروج</button>
      </div>

      <!-- قائمة المستخدمين -->
      <div id="users-list" class="bg-white p-4 rounded-lg shadow-md mb-4">
        <h2 class="text-xl font-bold mb-2">المستخدمون</h2>
        <ul id="users"></ul>
      </div>

      <!-- شاشة إضافة مستخدم -->
      <div id="add-user-section" class="bg-white p-4 rounded-lg shadow-md mb-4 hidden">
        <h2 class="text-xl font-bold mb-2">إضافة مستخدم</h2>
        <input type="text" id="add-username" placeholder="اسم المستخدم" class="w-full p-2 mb-4 border rounded">
        <button onclick="addUser()" class="w-full bg-green-500 text-white p-2 rounded">إضافة</button>
        <button onclick="hideAddUser()" class="w-full bg-gray-500 text-white p-2 rounded mt-2">إلغاء</button>
      </div>

      <!-- شاشة المحادثة -->
      <div id="chat-section" class="bg-white p-4 rounded-lg shadow-md hidden">
        <h2 class="text-xl font-bold mb-2">المحادثة مع <span id="chat-with"></span></h2>
        <div id="chat-messages" class="mb-4"></div>
        <input type="text" id="chat-input" placeholder="اكتب رسالة..." class="w-full p-2 border rounded">
        <button onclick="sendMessage()" class="w-full bg-blue-500 text-white p-2 rounded mt-2">إرسال</button>
        <button onclick="hideChat()" class="w-full bg-gray-500 text-white p-2 rounded mt-2">إغلاق المحادثة</button>
      </div>

      <!-- شاشة المعلومات الشخصية -->
      <div id="profile-section" class="bg-white p-4 rounded-lg shadow-md hidden">
        <h2 class="text-xl font-bold mb-2">معلومات شخصية</h2>
        <input type="text" id="profile-username" placeholder="اسم المستخدم" class="w-full p-2 mb-4 border rounded">
        <input type="email" id="profile-email" placeholder="البريد الإلكتروني" class="w-full p-2 mb-4 border rounded">
        <button onclick="updateProfile()" class="w-full bg-blue-500 text-white p-2 rounded">تحديث</button>
        <button onclick="hideProfile()" class="w-full bg-gray-500 text-white p-2 rounded mt-2">إغلاق</button>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
